{% extends 'base.html' %}
{% load static %}
{% csrf_token %}
{% block title %}Relatório de Descarregamento{% endblock %}

{% block content %}
<div class="full-page-card">
    <div class="card-body">
        <!-- Seletores -->
        <div class="selectors">
            <div class="selector">
                <label for="empresa">Empresa:</label>
                <select id="empresa" onchange="list_channels_by_company_id(this.value)">
                    <option value="" disabled selected >Selecione a empresa</option>
                    {% for empresa in empresas %}
                        <option value="{{ empresa.id }}">{{ empresa.nome }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="selector">
                <label for="camera">Câmera:</label>
                <select id="camera">
                    <option value="" disabled selected  >Selecione a câmera</option>
                </select>
            </div>
            <div class="selector">
                <label for="data-inicio">De:</label>
                <input type="date" id="data-inicio">
            </div>
            <div class="selector">
                <label for="data-fim">Até:</label>
                <input type="date" id="data-fim">
            </div>
            <div class="selectors-button">
                <button type="button" class="btn btn-primary">
                    <i class="fas fa-save"></i> Ir
                </button>
            </div>
        </div>

        <!-- Status Cards -->
        <div class="status-cards">
            <div class="status-card card-success">
                <div class="icon"><i class="fas fa-sync-alt"></i></div>
                <div class="percentage">100%</div>
                <div class="label">VÍDEOS TRANSFERIDOS</div>
            </div>
            <div class="status-card card-warning">
                <div class="icon"><i class="fas fa-exclamation-circle"></i></div>
                <div class="percentage">68%</div>
                <div class="label">VEÍCULOS EM ALERTA</div>
            </div>
            <div class="status-card card-info">
                <div class="icon"><i class="fas fa-wifi"></i></div>
                <div class="percentage">98%</div>
                <div class="label">VEÍCULOS COM CONEXÃO</div>
            </div>
        </div>

        <!-- Tabela -->
        <div class="table-responsive">
            <table class="table" id="relatorioCoresTabela" >
                <thead>
                    <tr>
                        <th>Carro</th>
                        <th>Modelo</th>
                        <th>Data</th>
                        <th>Arquivos</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Primeira linha com totais -->
                    <tr class="summary-row">
                        <td></td>
                        <td></td>
                        <td class="icon-cell"><i class="fas fa-wifi"></i> 87%</td>
                        <td class="icon-cell"><i class="fas fa-wifi"></i> 100%</td>
                        <td class="icon-cell"><i class="fas fa-wifi"></i> 61%</td>
                        <td class="icon-cell"><i class="fas fa-wifi"></i> 61%</td>
                        <td class="icon-cell"><i class="fas fa-wifi"></i> 100%</td>
                        <td class="icon-cell"><i class="fas fa-wifi"></i> 87%</td>
                        <td class="icon-cell"><i class="fas fa-wifi"></i> 96%</td>
                    </tr>
                    <!-- Linhas de dados -->
                    {% for i in "123456789"|make_list %}
                    <tr>
                        <td><i class="fas fa-linux"></i> C1250{{i}}</td>
                        <td>3204-W</td>
                        <td class="{% if forloop.counter < 200 %}red-cell{% else %}green-cell{% endif %}">
                            {% if forloop.counter < 200 %}x{% else %}{{forloop.counter}}{% endif %}
                        </td>
                        <td class="{% if 821 < 200 %}red-cell{% else %}green-cell{% endif %}">821</td>
                        <td class="{% if 660 < 200 %}red-cell{% else %}green-cell{% endif %}">660</td>
                        <td class="{% if 95 < 200 %}red-cell{% else %}green-cell{% endif %}">95</td>
                        <td class="{% if 213 < 200 %}red-cell{% else %}green-cell{% endif %}">213</td>
                        <td class="{% if 587 < 200 %}red-cell{% else %}green-cell{% endif %}">587</td>
                        <td class="{% if 761 < 200 %}red-cell{% else %}green-cell{% endif %}">761</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'styles/relatorio_cores.css' %}">
{% endblock %}

{% block extra_js %}
    <script src="{% static 'scripts/relatorio_cores.js' %}"></script>
{% endblock %}
